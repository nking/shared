<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LinkedList.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Jacoco Report</a> &gt; <a href="index.source.html" class="el_package">ctci</a> &gt; <span class="el_source">LinkedList.java</span></div><h1>LinkedList.java</h1><pre class="source lang-java linenums">package ctci;

/**
 *
 * @author nichole
 */
<span class="nc" id="L7">public class LinkedList&lt;K, V&gt; {</span>

<span class="nc" id="L9">  protected Node&lt;K, V&gt; head = null;</span>
<span class="nc" id="L10">  protected Node&lt;K, V&gt; tail = null;</span>
<span class="nc" id="L11">  protected int n = 0;</span>

<span class="nc" id="L13">  public LinkedList() {</span>
<span class="nc" id="L14">  }</span>

<span class="nc" id="L16">  public LinkedList(K key, V value) {</span>
<span class="nc" id="L17">    add(key, value);</span>
<span class="nc" id="L18">  }</span>

  /**
  add a node to the end of the linked list
  */
  public Node&lt;K,V&gt; add(K key, V value) {
<span class="nc" id="L24">    Node&lt;K,V&gt; node = new Node(key, value);</span>
<span class="nc bnc" id="L25" title="All 2 branches missed.">    if (head == null) {</span>
<span class="nc bnc" id="L26" title="All 2 branches missed.">      assert(tail == null);</span>
<span class="nc" id="L27">      head = node;</span>
<span class="nc" id="L28">      tail = node;</span>
      // node next and prev are null instead of pointing to self
    } else {
      // add to end of nodes
<span class="nc" id="L32">      node.prev = tail;</span>
<span class="nc" id="L33">      tail.next = node;</span>
<span class="nc" id="L34">      tail = node;</span>
    }
<span class="nc" id="L36">    ++n;</span>
<span class="nc" id="L37">    return node;</span>
  }

  public Node&lt;K,V&gt; removeFirst() {
    //cases:
    //  (1) head == null and tail == null
    //  (2) there's only item in list so head == tail
    //  (3) there's more than one item in list

<span class="nc bnc" id="L46" title="All 2 branches missed.">    if (head == null) {</span>
<span class="nc bnc" id="L47" title="All 2 branches missed.">      assert(n == 0);</span>
<span class="nc" id="L48">      return null;</span>
    }
<span class="nc bnc" id="L50" title="All 2 branches missed.">    assert(tail != null);</span>

<span class="nc" id="L52">    Node&lt;K,V&gt; node = head;</span>

    // case where head == tail, that is, only 1 item was in the list
<span class="nc bnc" id="L55" title="All 2 branches missed.">    if (head.equals(tail)) {</span>
<span class="nc bnc" id="L56" title="All 2 branches missed.">       assert(n == 1);</span>
<span class="nc" id="L57">       head = null;</span>
<span class="nc" id="L58">       tail = null;</span>
<span class="nc" id="L59">       --n;</span>
       // can remove next link of node to improve integrity of remaining LinkedList
<span class="nc" id="L61">       node.next = null;</span>
<span class="nc" id="L62">       node.prev = null;</span>
<span class="nc" id="L63">       return node;</span>
    }

<span class="nc bnc" id="L66" title="All 2 branches missed.">    assert(head.next != null);</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">    assert(tail.prev != null);</span>
<span class="nc bnc" id="L68" title="All 2 branches missed.">    assert(n &gt; 1);</span>

<span class="nc" id="L70">    head = head.next;</span>
<span class="nc" id="L71">    head.prev = null;</span>
<span class="nc" id="L72">    --n;</span>

    // can remove next link of node to improve integrity of remaining LinkedList
<span class="nc" id="L75">    node.next = null;</span>
<span class="nc" id="L76">    node.prev = null;</span>

<span class="nc" id="L78">    return node;</span>
  }

  public Node&lt;K,V&gt; removeLast() {
    //cases:
    //(1) head and tail are null
    //(2) head == tail, that is, only 1 item in list
    //(3) more than 1 item in list

<span class="nc bnc" id="L87" title="All 2 branches missed.">    if (tail == null) {</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">      assert(head == null);</span>
<span class="nc bnc" id="L89" title="All 2 branches missed.">      assert(n == 0);</span>
<span class="nc" id="L90">      return null;</span>
    }

<span class="nc" id="L93">    Node&lt;K,V&gt; node = tail;</span>

<span class="nc bnc" id="L95" title="All 2 branches missed.">    if (head.equals(tail)) {</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">      assert(n == 1);</span>
<span class="nc" id="L97">      head = null;</span>
<span class="nc" id="L98">      tail = null;</span>
<span class="nc" id="L99">      --n;</span>
      // can remove next link of node to improve integrity of remaining LinkedList
<span class="nc" id="L101">      node.next = null;</span>
<span class="nc" id="L102">      node.prev = null;</span>
<span class="nc" id="L103">      return node;</span>
    }

<span class="nc" id="L106">    tail = tail.prev;</span>
<span class="nc" id="L107">    tail.next = null;</span>
<span class="nc" id="L108">    --n;</span>

    // can remove next link of node to improve integrity of remaining LinkedList
<span class="nc" id="L111">    node.next = null;</span>
<span class="nc" id="L112">    node.prev = null;</span>
<span class="nc" id="L113">    return node;</span>
  }

  public boolean containsKey(K key) {
<span class="nc" id="L117">    Node&lt;K, V&gt; node = get(key);</span>
<span class="nc bnc" id="L118" title="All 2 branches missed.">    return (node != null);</span>
  }

  public Node&lt;K,V&gt; get(K key) {
    // search from head to null
<span class="nc" id="L123">    Node&lt;K, V&gt; node = head;</span>
<span class="nc bnc" id="L124" title="All 2 branches missed.">    while (node != null) {</span>
<span class="nc bnc" id="L125" title="All 2 branches missed.">      if (node.getKey().equals(key)) {</span>
<span class="nc" id="L126">        return node;</span>
      }
<span class="nc" id="L128">      node = node.getNext();</span>
    }
<span class="nc" id="L130">    return node;</span>
  }

  public Node&lt;K,V&gt; remove(K key) {
<span class="nc" id="L134">    Node&lt;K, V&gt; node = get(key);</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">    if (node == null) {</span>
<span class="nc" id="L136">      return null;</span>
    }
    // cases:
    // (1) key == head, can use removeFirst()
<span class="nc bnc" id="L140" title="All 2 branches missed.">    if (node.equals(head)) {</span>
<span class="nc" id="L141">      return removeFirst();</span>
    }
    // (2) key == tail, can use removeLast()
<span class="nc bnc" id="L144" title="All 2 branches missed.">    if (node.equals(tail)) {</span>
<span class="nc" id="L145">      return removeLast();</span>
    }
    // (3) key is not head nor tail
    // prev
    // node
    // tail
<span class="nc" id="L151">    node.prev.next = node.next;</span>
<span class="nc" id="L152">    node.next.prev = node.prev;</span>
<span class="nc" id="L153">    --n;</span>

    // can remove next link of node to improve integrity of remaining LinkedList
<span class="nc" id="L156">    node.next = null;</span>
<span class="nc" id="L157">    node.prev = null;</span>
<span class="nc" id="L158">    return node;</span>
  }

  public Node&lt;K,V&gt; first() {
<span class="nc" id="L162">    return head;</span>
  }

  public Node&lt;K,V&gt; last() {
<span class="nc" id="L166">    return tail;</span>
  }
  public int size() {
<span class="nc" id="L169">    return n;</span>
  }
  public boolean isEmpty() {
<span class="nc bnc" id="L172" title="All 2 branches missed.">    return (n == 0);</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>