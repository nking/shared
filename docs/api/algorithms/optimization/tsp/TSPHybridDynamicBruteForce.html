<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Mon Nov 11 09:31:09 PST 2024 -->
<title>TSPHybridDynamicBruteForce</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-11-11">
<meta name="description" content="declaration: package: algorithms.optimization.tsp, class: TSPHybridDynamicBruteForce">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">algorithms.optimization.tsp</a></div>
<h1 title="Class TSPHybridDynamicBruteForce" class="title">Class TSPHybridDynamicBruteForce</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="AbstractTSP.html" title="class in algorithms.optimization.tsp">algorithms.optimization.tsp.AbstractTSP</a>
<div class="inheritance">algorithms.optimization.tsp.TSPHybridDynamicBruteForce</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TSPHybridDynamicBruteForce</span>
<span class="extends-implements">extends <a href="AbstractTSP.html" title="class in algorithms.optimization.tsp">AbstractTSP</a></span></div>
<div class="block">Keeping notes here on looking at bit-string patterns to find ways to 
 compress the sums of 3-paths used in the subproblems
 for a dynamic solution to TSP as an exercise in recursion and
 dynamic programming (not a preferred impl due to the large runtime complexity). 

<pre>
    let start node = 0.  n=5
    The total number of permutations of a path with fixed start node = 0 and n=5
    is n!/n = 24.

    for n=127, nPerm = 2.4e+211, so if wanted to store each permutation, indexed,
    would need to use java's BigInteger as a bitstring or this project's VeryLongBitString.java
    (Not pursuing this or hash function options at this time).

    To re-use solved sub-problems, can determine how many sets of paths of 3 nodes are in
    the set of n-1 which is (n-1)/3.
    (sets of size 2 are given by the distance matrix.)

    Store all 3 node combinations, excluding the number 0, for reuse.
    The number of k-permutations without excluding a node is: C(n,k) = n!/(k!*(n-k)!).
    For example, 4 nodes, k-permutations size=3:  C(n,k) = n!/(k!*(n-k)!) = 4
      7 (    111)
     11 (   1011)
     13 (   1101)
     14 (   1110)
    Excluding the permutations with bit=0 set: use n2=n-1, C(n-1,k) = 1
     14 (   1110)

    So, one can generate the k=3 permutations of subset of size n, and exclude the 1st bit
    by generating for n2=n-1, and the left shift by 1 the result.
    (can use SubsetChooser.java and one of the 2 Permutation*.java classes).)

    n=10, k=3 .geq. count = 84

    Once all of the 3-node path subsets are generated and stored,
    one can consider again that each of the complete permutations of paths
    is composed of disjoint combinations of (n-1)/3 of the 3-node path subsets,
    (plus up to 2 nodes.  e.g. if n = 12, we have (n-1)/3 3-node path subsets
     + 1 fixed node + 2 free nodes that belong in the permuation).

    This code uses memoization for all 3-node combinations, then for each of those in
    memo, it uses brute force for the remaining path building where the brute force
    approach continues to use subsets and permutations and cost sums to complete
    each path and compare it to the min cost without further storing partial results in memo..

    see AbstractTSP class comments for notes about the keys used for memo.
          
    This class contains a recursive and non-recursive version of the same hybrid dynamic and brute
    force algorithm.
           
 </pre></div>
<dl class="notes">
<dt>Author:</dt>
<dd>nichole</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-algorithms.optimization.tsp.AbstractTSP">Nested classes/interfaces inherited from class&nbsp;algorithms.optimization.tsp.<a href="AbstractTSP.html" title="class in algorithms.optimization.tsp">AbstractTSP</a></h2>
<code><a href="AbstractTSP.StackP.html" title="class in algorithms.optimization.tsp">AbstractTSP.StackP</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>(package private) long</code></div>
<div class="col-second even-row-color"><code><a href="#cr0" class="member-name-link">cr0</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-algorithms.optimization.tsp.AbstractTSP">Fields inherited from class&nbsp;algorithms.optimization.tsp.<a href="AbstractTSP.html" title="class in algorithms.optimization.tsp">AbstractTSP</a></h3>
<code><a href="AbstractTSP.html#dist">dist</a>, <a href="AbstractTSP.html#memo">memo</a>, <a href="AbstractTSP.html#minCost">minCost</a>, <a href="AbstractTSP.html#minPath">minPath</a>, <a href="AbstractTSP.html#sentinel">sentinel</a>, <a href="AbstractTSP.html#startNode">startNode</a>, <a href="AbstractTSP.html#totalNPerm">totalNPerm</a>, <a href="AbstractTSP.html#totalNSubSeq">totalNSubSeq</a>, <a href="AbstractTSP.html#totalNSubSet">totalNSubSet</a>, <a href="AbstractTSP.html#w">w</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(double%5B%5D%5B%5D)" class="member-name-link">TSPHybridDynamicBruteForce</a><wbr>(double[][]&nbsp;dist)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>gnu.trove.list.TLongList</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMinPathBitstrings()" class="member-name-link">getMinPathBitstrings</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#solveIteratively()" class="member-name-link">solveIteratively</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">this version is still roughly factorial.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#solveRecursively()" class="member-name-link">solveRecursively</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">this version is still roughly factorial.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-algorithms.optimization.tsp.AbstractTSP">Methods inherited from class&nbsp;algorithms.optimization.tsp.<a href="AbstractTSP.html" title="class in algorithms.optimization.tsp">AbstractTSP</a></h3>
<code><a href="AbstractTSP.html#compareToMin(long,double)">compareToMin</a>, <a href="AbstractTSP.html#concatenate(long,int,int%5B%5D)">concatenate</a>, <a href="AbstractTSP.html#count2(int)">count2</a>, <a href="AbstractTSP.html#count3(int)">count3</a>, <a href="AbstractTSP.html#countTotalNumSubSeqInvocations(int)">countTotalNumSubSeqInvocations</a>, <a href="AbstractTSP.html#countTotalNumSubSetInvocations(int)">countTotalNumSubSetInvocations</a>, <a href="AbstractTSP.html#createAMemoNodeBitstring(int%5B%5D)">createAMemoNodeBitstring</a>, <a href="AbstractTSP.html#createAndStackPermutations(long,double,int,gnu.trove.list.TIntList,java.util.Stack,boolean)">createAndStackPermutations</a>, <a href="AbstractTSP.html#createAndStackSubsetPermutations(long,double,int,int,java.util.Stack,boolean)">createAndStackSubsetPermutations</a>, <a href="AbstractTSP.html#findSetBitsBase10(long)">findSetBitsBase10</a>, <a href="AbstractTSP.html#findSetBitsBase10(long,gnu.trove.list.TIntList)">findSetBitsBase10</a>, <a href="AbstractTSP.html#findUnsetBitsBase10(long)">findUnsetBitsBase10</a>, <a href="AbstractTSP.html#findUnsetBitsBase10(long,gnu.trove.list.TIntList)">findUnsetBitsBase10</a>, <a href="AbstractTSP.html#getBase10NodeIndex(long,long)">getBase10NodeIndex</a>, <a href="AbstractTSP.html#getMemoLength()">getMemoLength</a>, <a href="AbstractTSP.html#getMinCost()">getMinCost</a>, <a href="AbstractTSP.html#getMinPath(int)">getMinPath</a>, <a href="AbstractTSP.html#getNumberOfMinPaths()">getNumberOfMinPaths</a>, <a href="AbstractTSP.html#init3NodePaths()">init3NodePaths</a>, <a href="AbstractTSP.html#init4NodePaths()">init4NodePaths</a>, <a href="AbstractTSP.html#initKNodePaths(int)">initKNodePaths</a>, <a href="AbstractTSP.html#initNodePaths()">initNodePaths</a>, <a href="AbstractTSP.html#numberOfSetNodes(long)">numberOfSetNodes</a>, <a href="AbstractTSP.html#numberOfUnsetNodes(long)">numberOfUnsetNodes</a>, <a href="AbstractTSP.html#printMemo()">printMemo</a>, <a href="AbstractTSP.html#readPathIntoBase10(long,gnu.trove.list.TIntList)">readPathIntoBase10</a>, <a href="AbstractTSP.html#reset()">reset</a>, <a href="AbstractTSP.html#setBits(int,long,int)">setBits</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="cr0">
<h3>cr0</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">cr0</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(double[][])">
<h3>TSPHybridDynamicBruteForce</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TSPHybridDynamicBruteForce</span><wbr><span class="parameters">(double[][]&nbsp;dist)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dist</code> - </dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="solveRecursively()">
<h3>solveRecursively</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">solveRecursively</span>()
                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block">this version is still roughly factorial.  its re-use of solving sub-problems
 is only for the first 3 nodes in each path.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="solveIteratively()">
<h3>solveIteratively</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">solveIteratively</span>()
                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block">this version is still roughly factorial.  its re-use of solving sub-problems
 is only for the first 3 nodes in each path.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMinPathBitstrings()">
<h3>getMinPathBitstrings</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">gnu.trove.list.TLongList</span>&nbsp;<span class="element-name">getMinPathBitstrings</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
