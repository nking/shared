<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Mon Nov 11 09:31:09 PST 2024 -->
<title>CURDecomposition</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-11-11">
<meta name="description" content="declaration: package: algorithms.dimensionReduction, class: CURDecomposition">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">algorithms.dimensionReduction</a></div>
<h1 title="Class CURDecomposition" class="title">Class CURDecomposition</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">algorithms.dimensionReduction.CURDecomposition</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">CURDecomposition</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">a CUR-Decomposition is an approximation to the SVD, but the result is that 
 all large matrices of the decomposition are sparse in contrast to the same
 in SVD.
 
 This class implements CUR-decomposition following the book "Mining of Massive 
 Datasets" by Jure Leskovec, Anand Rajaraman, Jeff Ullman.
 http://www.mmds.org/
 
 "CUR matrix decompositions for improved data analysis"
 Runtime is O(m*n) Drineas et al. 2008
 (https://www.pnas.org/content/pnas/106/3/697.full.pdf)
 "CUR decompositions are low-rank matrix decompositions that are explicitly 
 expressed in terms of a small number of actual columns and/or actual rows of 
 the data matrix...
 We present an algorithm that preferentially chooses columns and rows that 
 exhibit high “statistical leverage” and, thus, in a very precise statistical 
 sense, exert a disproportionately large “influence” on the best low-rank fit 
 of the data matrix. By selecting columns and rows in this manner, we obtain 
 improved relative-error and constant-factor approximation guarantees in 
 worst-case analysis, as opposed to the much coarser additive-error guarantees 
 of prior work. In addition, since the construction involves computing 
 quantities with a natural and widely studied statistical interpretation, 
 we can leverage ideas from diagnostic regression analysis to employ these 
 matrix decompositions for exploratory data analysis."
 
 
 NOTE: consider also implementing in future:
   http://www.cs.cmu.edu/~christos/PUBLICATIONS/sdm07-lsm.pdf
   "Less is More: Compact Matrix Decomposition for Large Sparse Graphs"
   2007, Sun, Xie, Zhang, and Faloutsos
   Proceedings of the 2007 SIAM International Conference on Data Mining
   ...the Compact Matrix Decomposition (CMD), to compute sparse low rank 
 approximations. CMD dramatically reduces both the computation cost and 
 the space requirements over existing decomposition methods (SVD, CUR). 
 Using CMD as the key building block, we further propose procedures to 
 efficiently construct and analyze dynamic graphs from real-time 
 application data. ...
 Also, kernel PCA, nonmetric multidimensional scaling (NMDS), and a fast
 version of isomap.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>nichole</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="CURDecomposition.CDFs.html" class="type-name-link" title="class in algorithms.dimensionReduction">CURDecomposition.CDFs</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="CURDecomposition.CUR.html" class="type-name-link" title="class in algorithms.dimensionReduction">CURDecomposition.CUR</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="CURDecomposition.PMFs.html" class="type-name-link" title="class in algorithms.dimensionReduction">CURDecomposition.PMFs</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="CURDecomposition.SelectedFromA.html" class="type-name-link" title="class in algorithms.dimensionReduction">CURDecomposition.SelectedFromA</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">CURDecomposition</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static <a href="CURDecomposition.CDFs.html" title="class in algorithms.dimensionReduction">CURDecomposition.CDFs</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#_calculateCDFs(double%5B%5D%5B%5D,int)" class="member-name-link">_calculateCDFs</a><wbr>(double[][]&nbsp;a,
 int&nbsp;k)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static <a href="CURDecomposition.PMFs.html" title="class in algorithms.dimensionReduction">CURDecomposition.PMFs</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#_calculatePMFs(double%5B%5D%5B%5D)" class="member-name-link">_calculatePMFs</a><wbr>(double[][]&nbsp;a)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">calculate the col and row Frobenius norm discrete probabilities from a
 (a.k.a.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static <a href="CURDecomposition.SelectedFromA.html" title="class in algorithms.dimensionReduction">CURDecomposition.SelectedFromA</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#_calculateR(double%5B%5D%5B%5D,int%5B%5D,double%5B%5D)" class="member-name-link">_calculateR</a><wbr>(double[][]&nbsp;a,
 int[]&nbsp;selectedRowIdxs,
 double[]&nbsp;rowPMF)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">calculate R: 
      R is an k x n matrix composed of a randomly chosen set of k rows of M.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static double[][]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#_calculateU(double%5B%5D%5B%5D,int%5B%5D,int%5B%5D)" class="member-name-link">_calculateU</a><wbr>(double[][]&nbsp;a,
 int[]&nbsp;selectedRIdxs,
 int[]&nbsp;selectedCIdxs)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CURDecomposition.CUR.html" title="class in algorithms.dimensionReduction">CURDecomposition.CUR</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#calculateDecomposition(double%5B%5D%5B%5D,int)" class="member-name-link">calculateDecomposition</a><wbr>(double[][]&nbsp;a,
 int&nbsp;k)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">a CUR-Decomposition is an approximation to the SVD, but the result is that 
 all large matrices of the decomposition are sparse in contrast to the same
 in SVD.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>CURDecomposition</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">CURDecomposition</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="calculateDecomposition(double[][],int)">
<h3>calculateDecomposition</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CURDecomposition.CUR.html" title="class in algorithms.dimensionReduction">CURDecomposition.CUR</a></span>&nbsp;<span class="element-name">calculateDecomposition</span><wbr><span class="parameters">(double[][]&nbsp;a,
 int&nbsp;k)</span>
                                                   throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException</span></div>
<div class="block">a CUR-Decomposition is an approximation to the SVD, but the result is that 
 all large matrices of the decomposition are sparse in contrast to the same
 in SVD.
 
  Runtime is O(m*n) Drineas et al.
 
 NOTE: Let C = CUR decomposition(A).  The eigenvectors of C are equal
 to the eigenvectors of A and both are equal to the eigenvectors
 C^T*C and A^T*A.
 Let lambda_CC = eigenvalues of C^T*C.
 The determinant( C^T*C - lambda * I) = 0.
 The trace of (C^T*C) = trace(lambda * I).
 
 NOTE: could improve the speed and space used for very large matrices
 by using FlexCompColMatrix and FlexCompRowMatrix for C, U, R, and 
 result matrices.
 Also, for very large matrices, consider implementing in CDFRandomSelect.java
 the integer transformation and storage in YFastTrie.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>a</code> - is an mxn matrix.</dd>
<dd><code>k</code> - the rank to approximate</dd>
<dt>Returns:</dt>
<dd>the cur decomposition C, U, and R.  c plays the role of svd's U
 and R plays he rol of SVD's v^T.</dd>
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code> - thrown if the MTJ SVD method cannot converge
 for a matrix.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_calculateCDFs(double[][],int)">
<h3>_calculateCDFs</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="CURDecomposition.CDFs.html" title="class in algorithms.dimensionReduction">CURDecomposition.CDFs</a></span>&nbsp;<span class="element-name">_calculateCDFs</span><wbr><span class="parameters">(double[][]&nbsp;a,
 int&nbsp;k)</span></div>
</section>
</li>
<li>
<section class="detail" id="_calculatePMFs(double[][])">
<h3>_calculatePMFs</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="CURDecomposition.PMFs.html" title="class in algorithms.dimensionReduction">CURDecomposition.PMFs</a></span>&nbsp;<span class="element-name">_calculatePMFs</span><wbr><span class="parameters">(double[][]&nbsp;a)</span></div>
<div class="block">calculate the col and row Frobenius norm discrete probabilities from a
 (a.k.a. calculating Marginal probability mass function of the contingency table).
 runtime is O(N) where N = mxn.
 NOTE: the Frobenius norm is the square root of the sum of the squares of 
 all elements of a matrix (2.2-4 of Golub and van Loan).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>a</code> - an mxn matrix.</dd>
<dt>Returns:</dt>
<dd>the column and row PMFs of matrix a where a row PMF is the
 Frobenius norm of the column divided by the Frobenius norm of the
 matrix, and the row PMF is similar but calculated for rows instead of
 columns.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_calculateR(double[][],int[],double[])">
<h3>_calculateR</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="CURDecomposition.SelectedFromA.html" title="class in algorithms.dimensionReduction">CURDecomposition.SelectedFromA</a></span>&nbsp;<span class="element-name">_calculateR</span><wbr><span class="parameters">(double[][]&nbsp;a,
 int[]&nbsp;selectedRowIdxs,
 double[]&nbsp;rowPMF)</span></div>
<div class="block">calculate R: 
      R is an k x n matrix composed of a randomly chosen set of k rows of M.
      each row of R gets normalized by sqrt( k * rowPMF_{selected_row}).
      if a row of A is present more than once in the selection, it is 
      included only the first time and that included column is then multiplied
      by the square root of the number of duplicates.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>a</code> - the m x n matrix, of m samples of n variates or parameters.</dd>
<dd><code>selectedRowIdxs</code> - a vector of indexes of rows of matrix a, which have
      been randomly selected from the row marginal probabilities.</dd>
<dd><code>rowPMF</code> - the row marginal probabilities.</dd>
<dt>Returns:</dt>
<dd>matrix of selected rows from A normalized and an array of the
      unique selected indexes (corrections for duplicated indexes are performed
      in this method).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_calculateU(double[][],int[],int[])">
<h3>_calculateU</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">double[][]</span>&nbsp;<span class="element-name">_calculateU</span><wbr><span class="parameters">(double[][]&nbsp;a,
 int[]&nbsp;selectedRIdxs,
 int[]&nbsp;selectedCIdxs)</span>
                       throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
